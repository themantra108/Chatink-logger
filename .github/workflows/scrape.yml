      - name: Start Headless Chrome ðŸš€
        run: |
          # 1. Start Chrome with extra flags to be more stable in CI
          # --disable-dev-shm-usage: Prevents crashes in Docker/CI environments
          # --disable-software-rasterizer: potentially reduces GPU errors
          google-chrome --headless --remote-debugging-port=9222 --no-sandbox --disable-gpu --disable-dev-shm-usage --disable-software-rasterizer &
          
          # 2. Robust Wait Pattern (Instead of just 'sleep 5')
          # This loops until Chrome actually responds on port 9222
          echo "Waiting for Chrome to launch..."
          for i in {1..30}; do
            if curl -s http://127.0.0.1:9222/json/version > /dev/null; then
              echo "Chrome is up and running!"
              break
            fi
            echo "Waiting..."
            sleep 1
          done